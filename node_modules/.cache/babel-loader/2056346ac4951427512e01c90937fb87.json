{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/Desktop/web-projects/ilink-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useRef}from\"react\";import ModalWindow from'./UI/modal/ModalWindow';import MyInput from'./UI/input/MyInpit.jsx';import ExitButton from'./UI/button/ExitButton';import MyButton from'./UI/button/MyButton';import UploadBox from'./UI/uploadBox/UploadBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReviewWindow=function ReviewWindow(_ref){var modalWindow=_ref.modalWindow,setModal=_ref.setModal,setToastError=_ref.setToastError,setToast=_ref.setToast;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),names=_useState4[0],setNames=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),review=_useState6[0],setReview=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),upload=_useState8[0],setUpload=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),validButton=_useState10[0],setValidButton=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),fileName=_useState12[0],setFileName=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),sizeError=_useState14[0],setSizeError=_useState14[1];var fileInputRef=useRef();var handleChange=function handleChange(e){setUpload(true);if(e.target.files[0].size>5e+6){setSizeError(true);setFileName('');}else{setSizeError(false);console.log(e.target.files[0].name);console.log(e.target.files[0].size);console.log(e.target.files[0].type);setFileName(e.target.files[0].name);}};useEffect(function(){if(!names||!names.split(' ').join('').match(/^[a-zA-Zа-яА-Я]+$/)){setValidButton(true);}else{setValidButton(false);}},[names]);var hideUploadBox=function hideUploadBox(token){setUpload(token);};var sending=function sending(){console.log('Имя: ',names);console.log('Отзыв: ',review);console.log('Название файла: ',fileName);if(names==''||review==''){setToastError(true);}else{setToast(true);}setNames('');setReview('');setFileName('');setUpload(false);setModal(false);};return/*#__PURE__*/_jsxs(ModalWindow,{visible:modalWindow,setVisible:setModal,upload:upload,setUpload:setUpload,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"reviewsHead\",children:\"\\u041E\\u0442\\u0437\\u044B\\u0432\"}),/*#__PURE__*/_jsx(ExitButton,{click:setModal,style:{position:\"absolute\",left:\"631.46px\",top:\"26px\"}}),/*#__PURE__*/_jsx(\"h4\",{className:\"reviewsLine1\",children:\"\\u041A\\u0430\\u043A \\u0432\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\"}),/*#__PURE__*/_jsx(MyInput,{onChange:function onChange(e){return setNames(e.target.value);},value:names,style:{position:\"absolute\",left:\"24px\",width:\"395px\",height:\"52px\",top:\"106px\"},type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"}),/*#__PURE__*/_jsx(MyButton,{onClick:function onClick(){return fileInputRef.current.click();},disabled:validButton,visible:true,style:{position:\"absolute\",width:\"217px\",left:\"435px\",top:\"106px\"},children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,multiple:false,ref:fileInputRef,type:\"file\",hidden:true}),/*#__PURE__*/_jsx(UploadBox,{hide:hideUploadBox,display:upload,fileName:fileName,sizeError:sizeError}),/*#__PURE__*/_jsx(\"h4\",{className:\"reviewsLine2\",children:\"\\u0412\\u0441\\u0435 \\u043B\\u0438 \\u0432\\u0430\\u043C \\u043F\\u043E\\u043D\\u0440\\u0430\\u0432\\u0438\\u043B\\u043E\\u0441\\u044C?\"}),/*#__PURE__*/_jsx(\"textarea\",{value:review,className:\"textarea\",maxLength:\"200\",onChange:function onChange(e){setCount(e.target.value.length);setReview(e.target.value);},placeholder:\"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u0443 \\u0441\\u043B\\u043E\\u0432 \\u043E \\u0432\\u0430\\u0448\\u0435\\u043C \\u043E\\u043F\\u044B\\u0442\\u0435...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return sending();},visible:false,className:\"reviewButton\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",upload?/*#__PURE__*/_jsx(\"div\",{className:\"iconInfoA\"}):/*#__PURE__*/_jsx(\"div\",{className:\"iconInfo\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"warn\",children:\"\\u0412\\u0441\\u0435 \\u043E\\u0442\\u0437\\u044B\\u0432\\u044B \\u043F\\u0440\\u043E\\u0445\\u043E\\u0434\\u044F\\u0442 \\u043C\\u043E\\u0434\\u0435\\u0440\\u0430\\u0446\\u0438\\u044E \\u0432 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 2 \\u0447\\u0430\\u0441\\u043E\\u0432\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"count\",children:[count,\"/200\"]})]});};export default ReviewWindow;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/web-projects/ilink-test/src/components/ReviewWindow.jsx"],"names":["React","useEffect","useState","useRef","ModalWindow","MyInput","ExitButton","MyButton","UploadBox","ReviewWindow","modalWindow","setModal","setToastError","setToast","count","setCount","names","setNames","review","setReview","upload","setUpload","validButton","setValidButton","fileName","setFileName","sizeError","setSizeError","fileInputRef","handleChange","e","target","files","size","console","log","name","type","split","join","match","hideUploadBox","token","sending","position","left","top","value","width","height","current","click","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport ModalWindow from './UI/modal/ModalWindow';\r\nimport MyInput from './UI/input/MyInpit.jsx';\r\nimport ExitButton from './UI/button/ExitButton';\r\nimport MyButton from './UI/button/MyButton';\r\nimport UploadBox from './UI/uploadBox/UploadBox';\r\n\r\n\r\nconst ReviewWindow = ({ modalWindow, setModal, setToastError, setToast }) => {\r\n    const [count, setCount] = useState(0);\r\n    const [names, setNames] = useState('');\r\n    const [review, setReview] = useState('');\r\n    const [upload, setUpload] = useState(false);\r\n    const [validButton, setValidButton] = useState(false);\r\n    const [fileName, setFileName] = useState('');\r\n    const [sizeError, setSizeError] = useState(false);\r\n    const fileInputRef = useRef();\r\n\r\n    const handleChange = (e) => {\r\n        setUpload(true);\r\n        if (e.target.files[0].size > 5e+6) {\r\n            setSizeError(true);\r\n            setFileName('');\r\n        } else {\r\n            setSizeError(false)\r\n            console.log(e.target.files[0].name);\r\n            console.log(e.target.files[0].size);\r\n            console.log(e.target.files[0].type);\r\n            setFileName(e.target.files[0].name);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (!names || !names.split(' ').join('').match(/^[a-zA-Zа-яА-Я]+$/)) {\r\n            setValidButton(true)\r\n        } else {\r\n            setValidButton(false)\r\n        }\r\n    }, [names]\r\n    )\r\n\r\n    const hideUploadBox = (token) => {\r\n        setUpload(token)\r\n    }\r\n\r\n\r\n    const sending = () => {\r\n        console.log('Имя: ', names);\r\n        console.log('Отзыв: ', review);\r\n        console.log('Название файла: ', fileName);\r\n        if (names == '' || review == '') {\r\n            setToastError(true)\r\n        }   else {\r\n            setToast(true)\r\n        }\r\n        setNames('');\r\n        setReview('');\r\n        setFileName('');\r\n        setUpload(false);\r\n        setModal(false);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <ModalWindow visible={modalWindow} setVisible={setModal} upload={upload} setUpload={setUpload}>\r\n            <h3 className=\"reviewsHead\">Отзыв</h3>\r\n            <ExitButton click={setModal} style={{ position: \"absolute\", left: \"631.46px\", top: \"26px\" }} />\r\n            <h4 className=\"reviewsLine1\">Как вас зовут?</h4>\r\n            <MyInput onChange={e => setNames(e.target.value)} value={names} style={{ position: \"absolute\", left: \"24px\", width: \"395px\", height: \"52px\", top: \"106px\" }} type=\"text\" placeholder=\"Имя Фамилия\" />\r\n            <MyButton onClick={() => fileInputRef.current.click()} disabled={validButton} visible={true} style={{ position: \"absolute\", width: \"217px\", left: \"435px\", top: \"106px\" }}>Загрузить фото</MyButton>\r\n            <input onChange={handleChange} multiple={false} ref={fileInputRef} type='file' hidden />\r\n            <UploadBox hide={hideUploadBox} display={upload} fileName={fileName} sizeError={sizeError} />\r\n            <h4 className=\"reviewsLine2\">Все ли вам понравилось?</h4>\r\n            <textarea value={review} className=\"textarea\" maxLength=\"200\" onChange={e => { setCount(e.target.value.length); setReview(e.target.value) }} placeholder=\"Напишите пару слов о вашем опыте...\" ></textarea>\r\n            <button onClick={() => sending()} visible={false} className=\"reviewButton\">Отправить отзыв</button>\r\n            <div> {upload\r\n                ? <div className=\"iconInfoA\" />\r\n                : <div className=\"iconInfo\" />\r\n            }</div>\r\n            <p className=\"warn\">Все отзывы проходят модерацию в течение 2 часов</p>\r\n            <p className=\"count\">{count}/200</p>\r\n        </ModalWindow>\r\n    );\r\n};\r\n\r\nexport default ReviewWindow;"]},"metadata":{},"sourceType":"module"}